/* === RESERVE MODAL : variables + reset local (pour rendu identique partout) === */
:root {
    /* Fallbacks si la page ne définit pas ces tokens (ex: site principal) */
    --reserve-bg: var(--bg, #020617);
    --reserve-text: var(--text, #e5e7eb);
    --reserve-radius-xl: var(--radius-xl, 26px);
    --reserve-radius-full: var(--radius-full, 999px);
}

/* Reset local (évite dépendance au reset de dev.css) */
.reserve-overlay,
.reserve-overlay * {
    box-sizing: border-box;
}

.reserve-overlay {
    z-index: 3000;
    /* > nav (1200) et > menu mobile (2000) */
    color: var(--reserve-text);
    font-family: inherit;
}

/* =========================================================
   RESERVE MODAL — CLEAN FINAL (blue night background)
   - Front & Back: dark blue night like page background
   - Brand colors only as accents (title/email/CTA/loader)
   - Quote subtle + premium
   ========================================================= */

.reserve-overlay {
    position: fixed;
    inset: 0;
    z-index: 1000;
    overflow-y: auto;
    -webkit-overflow-scrolling: touch;
    padding: 1.2rem;
    display: flex;
    align-items: center;
    justify-content: center;
}

.reserve-overlay[hidden] {
    display: none;
}

.reserve-backdrop {
    position: absolute;
    inset: 0;
    background: rgba(2, 6, 23, 0.78);
    backdrop-filter: blur(14px);
    -webkit-backdrop-filter: blur(14px);
}

.reserve-dialog {
    position: relative;
    width: min(560px, calc(100vw - 2.4rem));
    border-radius: var(--reserve-radius-xl);
    background: var(--reserve-bg);
    /* bleu nuit */
    border: 1px solid rgba(148, 163, 184, .22);
    box-shadow: 0 28px 80px rgba(0, 0, 0, .78);
    overflow: hidden;
    transform-style: preserve-3d;
}

/* léger “sheen” premium sans jaune terne */
.reserve-dialog::before {
    content: "";
    position: absolute;
    inset: 0;
    pointer-events: none;
    opacity: .75;
    background:
        radial-gradient(900px 420px at 20% 10%, rgba(236, 72, 153, 0.10), transparent 60%),
        radial-gradient(900px 420px at 80% 20%, rgba(247, 198, 0, 0.08), transparent 62%),
        radial-gradient(900px 520px at 50% 100%, rgba(148, 163, 184, 0.07), transparent 65%);
}

.reserve-close {
    position: absolute;
    top: 10px;
    right: 10px;
    z-index: 10;
    width: 42px;
    height: 42px;
    border-radius: var(--reserve-radius-full);
    border: 1px solid rgba(148, 163, 184, 0.22);
    background: rgba(255, 255, 255, 0.05);
    color: var(--reserve-text);
    font-size: 24px;
    line-height: 1;
    cursor: pointer;
    display: inline-grid;
    place-items: center;
    box-shadow: 0 10px 26px rgba(0, 0, 0, .45);
    transition: transform .18s ease, border-color .18s ease, box-shadow .18s ease;

}

.reserve-close:hover {
    border-color: rgba(247, 198, 0, 0.55);
    transform: translateY(-1px);
}

.reserve-close:active {
    transform: translateY(0);
}

.reserve-close:focus-visible {
    outline: none;
    box-shadow: 0 0 0 3px rgba(247, 198, 0, 0.20), 0 12px 28px rgba(0, 0, 0, .55);
}

.reserve-flip {
    perspective: 1200px;
    padding: 1.25rem 1.15rem 1.1rem;
}

.reserve-flip-inner {
    position: relative;
    transform-style: preserve-3d;
    min-height: 260px;
    height: var(--reserve-card-h, auto);
    /* piloté par le JS */
}

/* Faces : fond bleu nuit identique (front & back) */
.reserve-face {
    position: absolute;
    inset: 0;
    backface-visibility: hidden;
    -webkit-backface-visibility: hidden;
    display: grid;
    align-content: center;
    justify-items: center;
    gap: .72rem;
    padding: 1.15rem 1.05rem;
    text-align: center;
    background: transparent;
    /* on laisse la dialog gérer le fond */
}

.reserve-back {
    transform: rotateY(180deg);
}

/* FRONT */
.reserve-front-badge {
    display: inline-flex;
    align-items: center;
    gap: .5rem;
    font-size: .78rem;
    letter-spacing: .10em;
    text-transform: uppercase;
    color: rgba(229, 231, 235, 0.78);
    opacity: .95;
}

.reserve-front-title {
    font-size: 1.55rem;
    font-weight: 850;
    letter-spacing: -.02em;
    background: linear-gradient(90deg, var(--yellow), var(--pink));
    -webkit-background-clip: text;
    background-clip: text;
    color: transparent;
}

.reserve-front-sub {
    color: rgba(156, 163, 175, 0.92);
    font-size: .98rem;
    max-width: 40ch;
}

/* Citation (subtile, premium) */
.reserve-front-meta {
    margin-top: .25rem;
    max-width: 52ch;
    font-size: .98rem;
    line-height: 1.45;
    color: rgba(229, 231, 235, 0.74);
    font-weight: 600;
    letter-spacing: .005em;
    padding: .25rem 0 .25rem .85rem;
    position: relative;
}

.reserve-front-meta::before {
    content: "";
    position: absolute;
    left: 0;
    top: .35rem;
    bottom: .35rem;
    width: 3px;
    border-radius: 999px;
    background: linear-gradient(180deg, var(--pink), var(--yellow));
    opacity: .85;
}

/* Loader */
.reserve-front-loader {
    margin-top: .85rem;
    display: inline-flex;
    align-items: center;
    gap: .65rem;
    opacity: .90;
}

.reserve-front-loader-label {
    font-size: .95rem;
    color: rgba(229, 231, 235, 0.70);
    letter-spacing: .01em;
    font-weight: 650;
}

.reserve-front-dots {
    display: inline-flex;
    gap: .28rem;
    transform: translateY(1px);
}

.reserve-front-dots i {
    width: 6px;
    height: 6px;
    border-radius: 999px;
    background: linear-gradient(135deg, var(--yellow), var(--pink));
    opacity: .35;
    animation: reserveDotPulse 1.1s infinite ease-in-out;
}

.reserve-front-dots i:nth-child(2) {
    animation-delay: .12s;
}

.reserve-front-dots i:nth-child(3) {
    animation-delay: .24s;
}

@keyframes reserveDotPulse {

    0%,
    100% {
        transform: translateY(0);
        opacity: .25;
    }

    50% {
        transform: translateY(-4px);
        opacity: .95;
    }
}

@media (prefers-reduced-motion: reduce) {
    .reserve-front-dots i {
        animation: none;
        opacity: .65;
    }
}

/* BACK */
.reserve-title {
    margin: 0 0 .35rem;
    font-weight: 900;
    letter-spacing: .02em;
    background: linear-gradient(90deg, var(--yellow), var(--pink));
    -webkit-background-clip: text;
    background-clip: text;
    color: transparent;
    font-size: 1.35rem;
    line-height: 1.15;
}

.reserve-subtitle {
    margin: 0 0 1rem;
    max-width: 44ch;
    color: rgba(229, 231, 235, .72);
    font-size: .96rem;
    line-height: 1.35;
}

/* Back content block */
.reserve-block {
    width: 100%;
    max-width: 520px;
    text-align: left;
    padding: .80rem .90rem;
    border-radius: 18px;
    border: 1px solid rgba(148, 163, 184, .18);
    background: rgba(255, 255, 255, .03);
}

.reserve-row {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: .75rem;
    flex-wrap: nowrap;
}

.reserve-row>* {
    min-width: 0;
}

.reserve-mail {
    display: inline-block;
    min-width: 0;
    max-width: 100%;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    color: transparent;
    text-decoration: none;
    font-weight: 650;
    letter-spacing: .01em;
    background: linear-gradient(90deg, var(--yellow), var(--pink));
    -webkit-background-clip: text;
    background-clip: text;
}

.reserve-mail:hover {
    filter: brightness(1.08);
    transform: translateY(-1px);
}

/* Buttons */
.reserve-btn {
    --btn-bg: rgba(255, 255, 255, 0.05);
    --btn-border: rgba(148, 163, 184, 0.24);
    --btn-text: var(--text);

    position: relative;
    isolation: isolate;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: .5rem;
    padding: .78rem 1.05rem;
    border-radius: 999px;
    border: 1px solid var(--btn-border);
    background: var(--btn-bg);
    color: var(--btn-text);
    font-weight: 800;
    letter-spacing: .01em;
    text-decoration: none;
    cursor: pointer;
    user-select: none;
    transition: transform .18s ease, box-shadow .18s ease, border-color .18s ease, background .18s ease;
    box-shadow: 0 10px 24px rgba(0, 0, 0, .28);
}

.reserve-btn::before {
    content: "";
    position: absolute;
    inset: 0;
    border-radius: inherit;
    background: radial-gradient(120% 140% at 20% 0%, rgba(255, 255, 255, 0.14), transparent 45%);
    opacity: .55;
    z-index: -1;
    pointer-events: none;
}

.reserve-btn:hover {
    transform: translateY(-1px);
    border-color: rgba(247, 198, 0, 0.45);
    box-shadow: 0 16px 34px rgba(0, 0, 0, .40);
}

.reserve-btn:active {
    transform: translateY(0);
}

.reserve-btn:focus-visible {
    outline: none;
    box-shadow: 0 0 0 3px rgba(247, 198, 0, 0.22), 0 18px 40px rgba(0, 0, 0, .55);
}

.reserve-btn--ghost {
    --btn-bg: rgba(255, 255, 255, 0.04);
    --btn-border: rgba(148, 163, 184, 0.24);
}

.reserve-btn--primary {
    --btn-border: rgba(247, 198, 0, 0.30);
    --btn-text: #050816;
    background: linear-gradient(135deg, rgba(247, 198, 0, 0.95), rgba(236, 72, 153, 0.75));
}

.reserve-btn--primary:hover {
    border-color: rgba(247, 198, 0, 0.75);
    box-shadow: 0 20px 44px rgba(0, 0, 0, .55);
}

.reserve-btn--sm {
    padding: .58rem .82rem;
    font-weight: 850;
    font-size: .92rem;
    white-space: nowrap;
}

/* Actions layout */
.reserve-actions {
    display: grid;
    width: 100%;
    max-width: 520px;
    grid-template-columns: 1fr 1fr;
    gap: .7rem;
    margin-top: .9rem;
}

.reserve-actions .reserve-btn {
    width: 100%;
}

/* Mobile — centered perfectly inside the modal */
@media (max-width: 520px) {
    .reserve-overlay {
        padding: 1.2rem .85rem;
        align-items: center;
        justify-content: center;
    }

    .reserve-dialog {
        width: min(480px, calc(100vw - 1.4rem));
        margin-left: auto;
        margin-right: auto;
    }

    .reserve-face {
        padding: 1.05rem .95rem;
        gap: .62rem;
    }

    /* Bloc email bien centré par rapport à la modale */
    .reserve-block {
        margin-left: auto;
        margin-right: auto;
        text-align: center;
        /* <-- important */
    }

    /* On force un empilement propre, centré */
    .reserve-row {
        flex-wrap: wrap;
        justify-content: center;
        /* <-- au lieu de flex-start */
        align-items: center;
        gap: .6rem;
    }

    /* Mail sur sa ligne, centré */
    .reserve-mail {
        flex: 1 1 100%;
        text-align: center;
    }

    /* Bouton copier centré (et pas collé à gauche) */
    .reserve-btn--sm {
        margin-left: auto;
        margin-right: auto;
    }

    /* Actions en colonne, centrées */
    .reserve-actions {
        grid-template-columns: 1fr;
        gap: .65rem;
        max-width: 480px;
        margin-left: auto;
        margin-right: auto;
    }
}